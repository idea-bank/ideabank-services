<html>
	<head>
		<title> Test API </title>
	
	</head>
	<body>
		<input id="send" type="button" onclick="sendRequest()">
		<div id="response" onmouseover="clearResponse()">
		</div>
		<script>
			const url = "https://4uoqh2vm4a.execute-api.us-west-2.amazonaws.com/dev/users/web2/new";
			const responseContainer = document.getElementById("response")
			function sendRequest() {
				let xhttp = new XMLHttpRequest();
				xhttp.open('POST', `${url}`);
				xhttp.onreadystatechange = function() {
					if (this.readyState === 4) {
						console.log("Response received!");
						console.log(`Status: ${this.status}`);
						console.log(`Response: ${this.responseText}`);
						responseContainer.innerHTML += `<p> Status: <span> ${this.status} </span> </p>`;
						responseContainer.innerHTML += `<p> ${this.responseText} </p>`;
					}
				}
				console.log(`sending AJAX request to ${url}`);
                xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
				xhttp.send(JSON.stringify({
                    "displayName": "somethingcatchy",
                    "credentials": "c29tZXRoaW5nQHRoaXNwbGFjZS5uZXQ6Y3JlYXRpdmVseXNlcmN1cmU="
                }));
			}

            function clearResponse() {
                responseContainer.innerHTML = "";
            }
			
		</script>
	</body>

</html>
